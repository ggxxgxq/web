{"remainingRequest":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/src/views/lost-found/Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/src/views/lost-found/Detail.vue","mtime":1712673874723},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/cache-loader/dist/cjs.js","mtime":1712590523146},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/babel-loader/lib/index.js","mtime":1712590523266},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/cache-loader/dist/cjs.js","mtime":1712590523146},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/vue-loader/lib/index.js","mtime":1712590523434}],"contextDependencies":[],"result":["\nexport default {\n  name: 'Detail',\n  props: ['id'],\n  data() {\n    return {\n      // Êñá‰ª∂‰ø°ÊÅØ\n      lostFound: {\n        'id': 1,\n        'userId': 1,\n        'resourceId': 16,\n        'lostFoundCategory': 'ÂØªÁâ©ÂêØ‰∫ã',\n        'title': 'ÂõõÈ£üÂ†Ç‰∏¢Â§±‰∏Ä‰∏™Èí±ÂåÖ',\n        'description': 'Â¶ÇÂõæÔºåÈí±ÂåÖÊòØÈªëËâ≤ÁöÑÔºåÈáåÈù¢ÊúâÂ∞ëÈáèÁé∞ÈáëÂíå‰∏ÄÂº†Â∑•Ë°åÁöÑÂç°',\n        'itemName': 'Èí±ÂåÖ',\n        'time': '2024Âπ¥05Êúà17Êó•  12:10',\n        'address': 'ÂõõÈ£üÂ†Ç',\n        'createTime': '2024-05-17 15:39:45',\n        'images': '[\"https://img12.360buyimg.com/n7/jfs/t22831/61/2367409622/289066/5d9c3f/5b7d10feNe776b305.jpg\"]',\n        'user': {\n          'id': 1,\n          'username': 'admin',\n          'nickname': 'ÊñáÂàÄ',\n          'avatar': 'http://img.angus-liu.cn/avatar/avatar07.png',\n          'sign': 'ÁªàÂÖ∂‰∏ÄÁîüÔºåÊàë‰ª¨ÈÉΩÂú®Ëá™ÊàëÊïëËµé'\n        },\n        'resource': {\n          'id': 16,\n          'zanCount': 1,\n          'pvCount': 0,\n          'commentCount': 0\n        }\n      },\n      // ËØÑËÆ∫‰ø°ÊÅØ\n      commentList: [{\n        id: -1,\n        content: 'ÊµãËØïËØÑËÆ∫',\n        createTime: '2024-05-21 20:15:39',\n        postUser: {\n          id: -1,\n          username: 'admin',\n          nickname: 'ÁÆ°ÁêÜÂëò',\n          avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n        },\n        children: [\n          {\n            id: -2,\n            content: 'ÊµãËØïÂõûÂ§ç',\n            createTime: '2024-05-21 20:15:46',\n            postUser: {\n              id: 1,\n              username: 'admin',\n              nickname: 'ÁÆ°ÁêÜÂëò',\n              avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n            },\n            replyUser: {\n              id: 1,\n              username: 'admin',\n              nickname: 'ÁÆ°ÁêÜÂëò',\n              avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n            }\n          }\n        ]\n      }],\n      comment: {\n        parentId: null,\n        resourceId: null,\n        replyUserId: null,\n        value: '',\n        content: ''\n      }\n    };\n  },\n  methods: {\n    // Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØ\n    getLostFound() {\n      this.$axios.get(`/api/lost-found/${this.id}`)\n        .then(res => {\n          let result = res.data;\n          this.lostFound = result.data;\n          if (this.lostFound.images && this.lostFound.images.length > 0) {\n            this.lostFound.images = JSON.parse(this.lostFound.images);\n          }\n          // Ëé∑ÂèñËØÑËÆ∫‰ø°ÊÅØ\n          this.getCommentList();\n        });\n    },\n    // Ëé∑ÂèñËØÑËÆ∫‰ø°ÊÅØ\n    getCommentList() {\n      this.$axios.get(`/api/comment/${this.lostFound.resourceId}`)\n        .then(res => {\n          let result = res.data;\n          this.commentList = result.data;\n        });\n    },\n    // ÂàùÂßãÂåñËØÑËÆ∫\n    initComment() {\n      this.comment = {\n        resourceId: null,\n        parentId: null,\n        replyUserId: null,\n        value: '',\n        content: ''\n      }\n    },\n    // Ê∑ªÂä†ËØÑËÆ∫\n    addComment() {\n      this.comment.resourceId = this.lostFound.resourceId;\n      // Âà§Êñ≠ÊòØËØÑËÆ∫ËøòÊòØÂõûÂ§ç\n      if (this.comment.value.startsWith('@') && this.comment.replyUserId !== null) {\n        // ÂõûÂ§çÊó∂ÂéªÊéâËØÑËÆ∫ÂÜÖÂÆπ‰∏≠ÁöÑÂõûÂ§çÁî®Êà∑Âêç\n        let index = this.comment.value.indexOf(' ');\n        this.comment.content = this.comment.value.substr(index + 1);\n      } else {\n        this.comment.parentId = null;\n        this.comment.replyUserId = null;\n        this.comment.content = this.comment.value;\n      }\n      this.$axios.post('/api/comment', this.comment)\n        .then(res => {\n          this.initComment();\n          this.getCommentList();\n          this.lostFound.resource.commentCount++;\n        });\n    },\n    // ÂõûÂ§çËØÑËÆ∫\n    replyComment(parentId, replyUser) {\n      this.comment.parentId = parentId;\n      this.comment.replyUserId = replyUser.id;\n      this.comment.value = `@${replyUser.nickname} `;\n      this.$refs.commentInput.focus();\n    },\n    // ÁÇπËµû\n    addZan(resource) {\n      this.$axios.post('/api/zan', { resourceId: resource.id })\n        .then(res => resource.zanCount++);\n    }\n  },\n  mounted() {\n    this.getLostFound();\n  }\n};\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/lost-found","sourcesContent":["<template>\n  <div class=\"container\">\n    <Row>\n      <iCol span=\"18\">\n        <!-- Â§±Áâ©ÂØªÁâ©ËØ¶ÊÉÖ -->\n        <article>\n\n          <sui-message>\n            Áâ©ÂìÅËØ¶ÊÉÖ\n          </sui-message>\n\n          <sui-card class=\"fluid file-card\">\n            <sui-card-content class=\"file-content\">\n              <!-- ËØÑËÆ∫ÂàóË°® -->\n              <div class=\"file-comment\">\n                <!-- ËØÑËÆ∫Ê°Ü -->\n                <sui-form class=\"comment-input-form\">\n                  <sui-form-field>\n                    <Input ref=\"commentInput\" v-model=\"comment.value\" type=\"textarea\" :rows=\"3\" placeholder=\"Ê∑ªÂä†ËØÑËÆ∫\"\n                           @keydown.ctrl.enter.native=\"addComment\"/>\n                  </sui-form-field>\n                  <sui-form-field>\n                    <span class=\"resource-info-item\" @click=\"addZan(lostFound.resource)\">\n                      üëç {{lostFound.resource.zanCount}}\n                    </span>\n                    <span class=\"resource-info-item\">\n                      üí¨ {{lostFound.resource.commentCount}}\n                    </span>\n                    <sui-button basic floated=\"right\" content=\"ËØÑËÆ∫(Ctrl+Enter)\" @click.prevent=\"addComment\"/>\n                  </sui-form-field>\n                </sui-form>\n                <!-- ËØÑËÆ∫Ê°ÜEND -->\n                <!-- Áà∂ËØÑËÆ∫ -->\n                <sui-comment-group>\n                  <sui-comment v-for=\"comment in commentList\" :key=\"comment.id\">\n                    <sui-comment-avatar :src=\"comment.postUser.avatar\"/>\n                    <sui-comment-content>\n                      <a is=\"sui-comment-author\">{{comment.postUser.nickname}}</a>\n                      <sui-comment-metadata>\n                        <Time :time=\"comment.createTime\"/>\n                      </sui-comment-metadata>\n                      <sui-comment-text>{{comment.content}}</sui-comment-text>\n                      <sui-comment-actions>\n                        <sui-comment-action @click=\"replyComment(comment.id, comment.postUser)\">ÂõûÂ§ç</sui-comment-action>\n                      </sui-comment-actions>\n                    </sui-comment-content>\n                    <!-- Â≠êËØÑËÆ∫ -->\n                    <sui-comment-group v-if=\"comment.children.length > 0\">\n                      <sui-comment v-for=\"child in comment.children\" :key=\"child.id\">\n                        <sui-comment-avatar :src=\"child.postUser.avatar\"/>\n                        <sui-comment-content>\n                          <a is=\"sui-comment-author\">{{child.postUser.nickname}}</a>\n                          <sui-comment-metadata>\n                            <Time :time=\"child.createTime\"/>\n                          </sui-comment-metadata>\n                          <sui-comment-text>\n                            <a :href=\"child.replyUser.id\">@{{child.replyUser.nickname}}</a>\n                            {{child.content}}\n                          </sui-comment-text>\n                          <sui-comment-actions>\n                            <sui-comment-action @click=\"replyComment(comment.id, child.postUser)\">ÂõûÂ§ç\n                            </sui-comment-action>\n                          </sui-comment-actions>\n                        </sui-comment-content>\n                      </sui-comment>\n                    </sui-comment-group>\n                    <!-- Â≠êËØÑËÆ∫ END -->\n                  </sui-comment>\n                </sui-comment-group>\n                <!-- Áà∂ËØÑËÆ∫ END -->\n              </div>\n              <!-- ËØÑËÆ∫ÂàóË°® END -->\n            </sui-card-content>\n          </sui-card>\n        </article>\n        <!-- Â§±Áâ©ÂØªÁâ©ËØ¶ÊÉÖ END -->\n      </iCol>\n      <iCol span=\"6\">\n        <!-- ÂèëÂ∏ÉÁî®Êà∑‰ø°ÊÅØ -->\n        <sui-card class=\"fluid user-info-card\">\n          <sui-image style=\"width: 100%;\" :src=\"lostFound.user.avatar\"/>\n          <sui-card-content>\n            <sui-card-header>\n              <router-link :to=\"'/user/' + lostFound.user.id\">\n                {{lostFound.user.nickname}}\n              </router-link>\n            </sui-card-header>\n            <sui-card-meta>{{lostFound.user.username}}</sui-card-meta>\n            <sui-card-description>{{lostFound.user.sign}}</sui-card-description>\n          </sui-card-content>\n          <sui-card-content extra>\n            <sui-icon name=\"user\"/>\n            ÂèëÂ∏ÉÁî®Êà∑\n          </sui-card-content>\n        </sui-card>\n        <!-- ÂèëÂ∏ÉÁî®Êà∑‰ø°ÊÅØ END -->\n        <!-- Êìç‰ΩúÊåâÈíÆ -->\n        <div class=\"actions-buttons\" v-if=\"$store.state.user && lostFound.userId === $store.state.user.id\">\n          <sui-button-group>\n            <sui-button icon=\"pencil\" content=\"ÁºñËæë\" basic positive fluid/>\n            <sui-button icon=\"delete\" content=\"Âà†Èô§\" basic negative fluid/>\n          </sui-button-group>\n        </div>\n        <!-- Êìç‰ΩúÊåâÈíÆ END -->\n        <!-- Áõ∏ÂÖ≥Êñá‰ª∂ -->\n        <sui-card class=\"fluid\">\n          <sui-message attached=\"top\" content=\"‰ªñÁöÑÈó≤ÁΩÆ\"/>\n          <sui-card-content>\n            ÊöÇÊó†Êõ¥Â§ö‰∫åÊâãÁâ©ÂìÅ\n          </sui-card-content>\n        </sui-card>\n        <!-- Áõ∏ÂÖ≥Êñá‰ª∂ END -->\n      </iCol>\n    </Row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Detail',\n  props: ['id'],\n  data() {\n    return {\n      // Êñá‰ª∂‰ø°ÊÅØ\n      lostFound: {\n        'id': 1,\n        'userId': 1,\n        'resourceId': 16,\n        'lostFoundCategory': 'ÂØªÁâ©ÂêØ‰∫ã',\n        'title': 'ÂõõÈ£üÂ†Ç‰∏¢Â§±‰∏Ä‰∏™Èí±ÂåÖ',\n        'description': 'Â¶ÇÂõæÔºåÈí±ÂåÖÊòØÈªëËâ≤ÁöÑÔºåÈáåÈù¢ÊúâÂ∞ëÈáèÁé∞ÈáëÂíå‰∏ÄÂº†Â∑•Ë°åÁöÑÂç°',\n        'itemName': 'Èí±ÂåÖ',\n        'time': '2024Âπ¥05Êúà17Êó•  12:10',\n        'address': 'ÂõõÈ£üÂ†Ç',\n        'createTime': '2024-05-17 15:39:45',\n        'images': '[\"https://img12.360buyimg.com/n7/jfs/t22831/61/2367409622/289066/5d9c3f/5b7d10feNe776b305.jpg\"]',\n        'user': {\n          'id': 1,\n          'username': 'admin',\n          'nickname': 'ÊñáÂàÄ',\n          'avatar': 'http://img.angus-liu.cn/avatar/avatar07.png',\n          'sign': 'ÁªàÂÖ∂‰∏ÄÁîüÔºåÊàë‰ª¨ÈÉΩÂú®Ëá™ÊàëÊïëËµé'\n        },\n        'resource': {\n          'id': 16,\n          'zanCount': 1,\n          'pvCount': 0,\n          'commentCount': 0\n        }\n      },\n      // ËØÑËÆ∫‰ø°ÊÅØ\n      commentList: [{\n        id: -1,\n        content: 'ÊµãËØïËØÑËÆ∫',\n        createTime: '2024-05-21 20:15:39',\n        postUser: {\n          id: -1,\n          username: 'admin',\n          nickname: 'ÁÆ°ÁêÜÂëò',\n          avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n        },\n        children: [\n          {\n            id: -2,\n            content: 'ÊµãËØïÂõûÂ§ç',\n            createTime: '2024-05-21 20:15:46',\n            postUser: {\n              id: 1,\n              username: 'admin',\n              nickname: 'ÁÆ°ÁêÜÂëò',\n              avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n            },\n            replyUser: {\n              id: 1,\n              username: 'admin',\n              nickname: 'ÁÆ°ÁêÜÂëò',\n              avatar: 'http://img.angus-liu.cn/avatar/avatar07.png'\n            }\n          }\n        ]\n      }],\n      comment: {\n        parentId: null,\n        resourceId: null,\n        replyUserId: null,\n        value: '',\n        content: ''\n      }\n    };\n  },\n  methods: {\n    // Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØ\n    getLostFound() {\n      this.$axios.get(`/api/lost-found/${this.id}`)\n        .then(res => {\n          let result = res.data;\n          this.lostFound = result.data;\n          if (this.lostFound.images && this.lostFound.images.length > 0) {\n            this.lostFound.images = JSON.parse(this.lostFound.images);\n          }\n          // Ëé∑ÂèñËØÑËÆ∫‰ø°ÊÅØ\n          this.getCommentList();\n        });\n    },\n    // Ëé∑ÂèñËØÑËÆ∫‰ø°ÊÅØ\n    getCommentList() {\n      this.$axios.get(`/api/comment/${this.lostFound.resourceId}`)\n        .then(res => {\n          let result = res.data;\n          this.commentList = result.data;\n        });\n    },\n    // ÂàùÂßãÂåñËØÑËÆ∫\n    initComment() {\n      this.comment = {\n        resourceId: null,\n        parentId: null,\n        replyUserId: null,\n        value: '',\n        content: ''\n      }\n    },\n    // Ê∑ªÂä†ËØÑËÆ∫\n    addComment() {\n      this.comment.resourceId = this.lostFound.resourceId;\n      // Âà§Êñ≠ÊòØËØÑËÆ∫ËøòÊòØÂõûÂ§ç\n      if (this.comment.value.startsWith('@') && this.comment.replyUserId !== null) {\n        // ÂõûÂ§çÊó∂ÂéªÊéâËØÑËÆ∫ÂÜÖÂÆπ‰∏≠ÁöÑÂõûÂ§çÁî®Êà∑Âêç\n        let index = this.comment.value.indexOf(' ');\n        this.comment.content = this.comment.value.substr(index + 1);\n      } else {\n        this.comment.parentId = null;\n        this.comment.replyUserId = null;\n        this.comment.content = this.comment.value;\n      }\n      this.$axios.post('/api/comment', this.comment)\n        .then(res => {\n          this.initComment();\n          this.getCommentList();\n          this.lostFound.resource.commentCount++;\n        });\n    },\n    // ÂõûÂ§çËØÑËÆ∫\n    replyComment(parentId, replyUser) {\n      this.comment.parentId = parentId;\n      this.comment.replyUserId = replyUser.id;\n      this.comment.value = `@${replyUser.nickname} `;\n      this.$refs.commentInput.focus();\n    },\n    // ÁÇπËµû\n    addZan(resource) {\n      this.$axios.post('/api/zan', { resourceId: resource.id })\n        .then(res => resource.zanCount++);\n    }\n  },\n  mounted() {\n    this.getLostFound();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  width: 1140px;\n  margin: 0 auto;\n  padding: 5px;\n\n  .ivu-col {\n    padding: 7px;\n  }\n}\n\n.file-card {\n  margin-bottom: 10px;\n\n  .file-content {\n    padding: 2em 3em;\n  }\n\n  .resource-info-item {\n    margin-right: 15px;\n    cursor: pointer;\n  }\n\n  .resource-info-item:hover {\n    color: #ff8364;\n  }\n\n  .file-comment {\n    padding-top: 2em;\n\n    .comment-input-form {\n      overflow: hidden;\n    }\n  }\n}\n\n.user-info-card {\n  .header {\n    a {\n      color: #373737;\n    }\n  }\n}\n\n.actions-buttons {\n  text-align: center;\n\n  .button {\n    width: 134px;\n  }\n}\n</style>\n"]}]}