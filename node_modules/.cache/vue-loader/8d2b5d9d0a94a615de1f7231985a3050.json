{"remainingRequest":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/src/views/article/Article.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/src/views/article/Article.vue","mtime":1712673875665},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/cache-loader/dist/cjs.js","mtime":1712590523146},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/babel-loader/lib/index.js","mtime":1712590523266},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/cache-loader/dist/cjs.js","mtime":1712590523146},{"path":"/Users/gaoxiangqing/Documents/gaoxiangqing/smilcool/smilcool-client/node_modules/vue-loader/lib/index.js","mtime":1712590523434}],"contextDependencies":[],"result":["\nexport default {\n  name: 'Article',\n  data() {\n    return {\n      activeArticleCategory: 'ÊâÄÊúâ',\n      articleCategory: [{\n        'name': 'ÊµãËØï',\n        'code': '-1'\n      }],\n      param: {\n        // query ÂèÇÊï∞\n        articleCategory: null,\n        general: null,\n        // page & order ÂèÇÊï∞\n        desc: 'create_time',\n        current: 1\n      },\n      articlePage: {\n        'records': [{\n          'id': -1,\n          'userId': -1,\n          'resourceId': -1,\n          'articleCategory': 'ÊµãËØïÊñáÁ´†',\n          'title': 'ÊµãËØïÊ†áÈ¢ò',\n          'brief': 'ÊµãËØïÊ†áÈ¢ò',\n          'createTime': '2024-05-13',\n          'user': {\n            'id': -1,\n            'username': 'anonymous',\n            'nickname': 'Ê∏∏ÂÆ¢',\n            'avatar': require('../../assets/img/avatar/anonymous-avatar.jpg'),\n            'sex': '‰øùÂØÜ',\n            'sign': '‰∏ÄÂè•ËØù‰ªãÁªçËá™Â∑±'\n          },\n          'resource': {\n            'id': -1,\n            'zanCount': 0,\n            'pvCount': 0,\n            'commentCount': 0\n          }\n        }],\n        'total': 7,\n        'size': 10,\n        'current': 1,\n        'searchCount': true,\n        'pages': 1\n      },\n    }\n  },\n  methods: {\n    // Á±ªÂà´ÂàáÊç¢\n    selectCategory(articleCategory) {\n      this.activeArticleCategory = articleCategory;\n      if (articleCategory === 'ÊâÄÊúâ') {\n        this.param.articleCategory = null;\n      } else {\n        this.param.articleCategory = articleCategory;\n      }\n      this.param.current = 1;\n      this.getArticlePage(this.param);\n    },\n    // Ëé∑ÂèñÊñáÁ´†Á±ªÂà´\n    getArticleCategory() {\n      this.$axios.get('/api/dic/item', { dicTypeCode: 'article-category' })\n        .then(res => {\n          let result = res.data;\n          this.articleCategory = result.data;\n        })\n    },\n    // Ëé∑ÂèñÊñáÁ´†ÂàÜÈ°µ\n    getArticlePage(param) {\n      this.$axios.get('/api/article/page', param)\n        .then(res => {\n          let result = res.data;\n          this.articlePage = result.data;\n        });\n    },\n    // Âä†ËΩΩÊõ¥Â§ö\n    loadMore() {\n      this.param.current++;\n      this.$axios.get('/api/article/page', this.param)\n        .then(res => {\n          let result = res.data;\n          let morePage = result.data;\n          this.articlePage.records.push(...morePage.records);\n        });\n    },\n  },\n  mounted() {\n    this.getArticleCategory();\n    this.getArticlePage(this.param);\n  }\n}\n",{"version":3,"sources":["Article.vue"],"names":[],"mappings":";AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views/article","sourcesContent":["<template>\n  <div class=\"container\">\n    <Row class=\"article-menu\">\n      <iCol class=\"article-category\" span=\"18\">\n        <a is=\"sui-label\" v-if=\"activeArticleCategory === 'ÊâÄÊúâ'\" color=\"teal\" @click=\"selectCategory('ÊâÄÊúâ')\">\n          ÊâÄÊúâ\n        </a>\n        <a is=\"sui-label\" v-else @click=\"selectCategory('ÊâÄÊúâ')\">ÊâÄÊúâ</a>\n        <template v-for=\"item in articleCategory\">\n          <a is=\"sui-label\" v-if=\"activeArticleCategory === item.name\" color=\"teal\"\n             @click=\"selectCategory(item.name)\">{{item.name}}</a>\n          <a is=\"sui-label\" v-else @click=\"selectCategory(item.name)\">{{item.name}}</a>\n        </template>\n      </iCol>\n      <iCol span=\"6\">\n        <sui-input class=\"fluid\" placeholder=\"ÊêúÁ¥¢ÊñáÁ´†\" icon=\"search\"\n                   v-model=\"param.general\" @keydown.enter=\"getArticlePage(param)\"/>\n      </iCol>\n    </Row>\n    <Row>\n      <iCol>\n        <sui-card class=\"fluid\">\n          <sui-card-content>\n            <sui-feed class=\"article-feed\">\n              <sui-feed-event v-for=\"article in articlePage.records\" :key=\"article.id\">\n                <sui-feed-label :image=\"article.user.avatar\"/>\n                <sui-feed-content>\n                  <sui-feed-summary>\n                    <router-link :to=\"'/user/' + article.user.id\">{{article.user.nickname}}</router-link>\n                    ÂèëË°®{{article.articleCategory}}\n                    <router-link :to=\"'/article/' + article.id\">{{article.title}}</router-link>\n                    <sui-feed-date>\n                      <Time :time=\"article.createTime\"/>\n                    </sui-feed-date>\n                  </sui-feed-summary>\n                  <sui-feed-extra text class=\"article-brief\">\n                    {{article.brief}}\n                  </sui-feed-extra>\n                  <sui-feed-meta>\n                    <sui-feed-like>\n                      üëç {{article.resource.zanCount}}\n                    </sui-feed-like>\n                    <sui-feed-like>\n                      üí¨ {{article.resource.commentCount}}\n                    </sui-feed-like>\n                  </sui-feed-meta>\n                </sui-feed-content>\n              </sui-feed-event>\n            </sui-feed>\n          </sui-card-content>\n        </sui-card>\n        <sui-button basic content=\"Âä†ËΩΩÊõ¥Â§ö\" @click=\"loadMore\"\n                    :disabled=\"param.current >= articlePage.pages\"/>\n      </iCol>\n    </Row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Article',\n  data() {\n    return {\n      activeArticleCategory: 'ÊâÄÊúâ',\n      articleCategory: [{\n        'name': 'ÊµãËØï',\n        'code': '-1'\n      }],\n      param: {\n        // query ÂèÇÊï∞\n        articleCategory: null,\n        general: null,\n        // page & order ÂèÇÊï∞\n        desc: 'create_time',\n        current: 1\n      },\n      articlePage: {\n        'records': [{\n          'id': -1,\n          'userId': -1,\n          'resourceId': -1,\n          'articleCategory': 'ÊµãËØïÊñáÁ´†',\n          'title': 'ÊµãËØïÊ†áÈ¢ò',\n          'brief': 'ÊµãËØïÊ†áÈ¢ò',\n          'createTime': '2024-05-13',\n          'user': {\n            'id': -1,\n            'username': 'anonymous',\n            'nickname': 'Ê∏∏ÂÆ¢',\n            'avatar': require('../../assets/img/avatar/anonymous-avatar.jpg'),\n            'sex': '‰øùÂØÜ',\n            'sign': '‰∏ÄÂè•ËØù‰ªãÁªçËá™Â∑±'\n          },\n          'resource': {\n            'id': -1,\n            'zanCount': 0,\n            'pvCount': 0,\n            'commentCount': 0\n          }\n        }],\n        'total': 7,\n        'size': 10,\n        'current': 1,\n        'searchCount': true,\n        'pages': 1\n      },\n    }\n  },\n  methods: {\n    // Á±ªÂà´ÂàáÊç¢\n    selectCategory(articleCategory) {\n      this.activeArticleCategory = articleCategory;\n      if (articleCategory === 'ÊâÄÊúâ') {\n        this.param.articleCategory = null;\n      } else {\n        this.param.articleCategory = articleCategory;\n      }\n      this.param.current = 1;\n      this.getArticlePage(this.param);\n    },\n    // Ëé∑ÂèñÊñáÁ´†Á±ªÂà´\n    getArticleCategory() {\n      this.$axios.get('/api/dic/item', { dicTypeCode: 'article-category' })\n        .then(res => {\n          let result = res.data;\n          this.articleCategory = result.data;\n        })\n    },\n    // Ëé∑ÂèñÊñáÁ´†ÂàÜÈ°µ\n    getArticlePage(param) {\n      this.$axios.get('/api/article/page', param)\n        .then(res => {\n          let result = res.data;\n          this.articlePage = result.data;\n        });\n    },\n    // Âä†ËΩΩÊõ¥Â§ö\n    loadMore() {\n      this.param.current++;\n      this.$axios.get('/api/article/page', this.param)\n        .then(res => {\n          let result = res.data;\n          let morePage = result.data;\n          this.articlePage.records.push(...morePage.records);\n        });\n    },\n  },\n  mounted() {\n    this.getArticleCategory();\n    this.getArticlePage(this.param);\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  width: 1140px;\n  margin: 5px auto;\n\n  .ivu-col {\n    padding: 7px;\n  }\n\n  .article-menu {\n    .article-category {\n      .label {\n        padding: 12px 15px;\n        font-size: 1em;\n        margin: 0 7px 7px 0;\n      }\n    }\n  }\n\n  .ui.feed > .event > .content .extra.text {\n    max-width: 700px;\n  }\n}\n</style>\n"]}]}